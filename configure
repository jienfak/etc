#!/bin/sh
# Automatic user configuration installation and updating script.

# Getting profile file to get start variables.
rpath="$(dirname `readlink -f $0`)"
profile="$rpath/profile"
. $profile

rcs="$ETC/rcs"
configs="$ETC/configs"
arg="$@"

mkdir -p "$XDG_CONFIG_HOME"
# Config dir.
for i in $configs/* ; do
	ln="$XDG_CONFIG_HOME/`basename $i`"
	rm "$ln"
	ln -s $arg "$i" "$ln"
done
# Run commands dir.
for i in $rcs/*  ; do
	ln="$HOME/.`basename $i`"
	rm "$ln"
	ln -s $arg "$i" "$ln"
done

rm "$HOME/lib"
ln -s $arg "$ETC/lib" "$HOME/lib"
mkdirs="$HOME/bin $HOME/mnt $HOME/drv $HOME/tmp $HOME/cbin"
mkdir -p $mkdirs
